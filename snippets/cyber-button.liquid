<button 
  class="cyber-button {% if variant %}cyber-button--{{ variant }}{% endif %}"
  type="{{ type | default: 'button' }}"
  {{ attributes }}>
  <span class="cyber-button__glitch"></span>
  <span class="cyber-button__label">{{ label }}</span>
  {% if icon %}
    <span class="cyber-button__icon">{% render icon %}</span>
  {% endif %}
</button>

{% stylesheet %}
.cyber-button {
  position: relative;
  padding: 0.75em 1.5em;
  background: var(--background-primary);
  border: 1px solid var(--glow-primary);
  color: var(--glow-primary);
  font-family: var(--font-heading-family);
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  overflow: hidden;
  transition: all 0.3s;
  
  &:hover {
    background: var(--glow-primary);
    color: var(--background-primary);
    box-shadow: 0 0 20px rgba(var(--glow-primary-rgb), 0.5);
    
    .cyber-button__glitch {
      opacity: 1;
    }
  }
}

.cyber-button__glitch {
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: var(--glow-primary);
  opacity: 0;
  pointer-events: none;
  animation: button-glitch 0.3s infinite;
}

@keyframes button-glitch {
  0% { clip-path: inset(50% 0 50% 0) }
  5% { clip-path: inset(20% 0 80% 0) }
  10% { clip-path: inset(80% 0 20% 0) }
  15% { clip-path: inset(50% 0 50% 0) }
  20% { clip-path: inset(70% 0 30% 0) }
  25% { clip-path: inset(30% 0 70% 0) }
  100% { clip-path: inset(50% 0 50% 0) }
}
{% endstylesheet %}
