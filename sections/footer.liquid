<footer class="footer" data-section-id="{{ section.id }}" data-section-type="footer">
  <div class="footer__inner page-width">
    <div class="footer__grid">
      {% if section.blocks.size > 0 %}
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'text' %}
              <div class="footer__column footer__column--text" {{ block.shopify_attributes }}>
                {% if block.settings.title != blank %}
                  <h2 class="footer__title">{{ block.settings.title }}</h2>
                {% endif %}
                
                {% if block.settings.text != blank %}
                  <div class="footer__text rte">
                    {{ block.settings.text }}
                  </div>
                {% endif %}
                
                {% if block.settings.show_social %}
                  <ul class="footer__social-icons">
                    {% if settings.social_facebook_link != blank %}
                      <li>
                        <a href="{{ settings.social_facebook_link }}" class="footer__social-link" aria-label="Facebook">
                          <svg aria-hidden="true" focusable="false" role="presentation" class="icon" viewBox="0 0 24 24">
                            <path d="M18.768 7.465h-4.268v-2.83c0-.85.638-1.058 1.06-1.058h2.144V.0065h-4.05c-3.982 0-4.862 2.98-4.862 4.886v2.572H6.032v4.01h2.76V19.99h5.708V11.46h3.41l.858-4.01z"/>
                          </svg>
                        </a>
                      </li>
                    {% endif %}
                    
                    {% if settings.social_twitter_link != blank %}
                      <li>
                        <a href="{{ settings.social_twitter_link }}" class="footer__social-link" aria-label="Twitter">
                          <svg aria-hidden="true" focusable="false" role="presentation" class="icon" viewBox="0 0 24 24">
                            <path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.818 8.3a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"/>
                          </svg>
                        </a>
                      </li>
                    {% endif %}
                    
                    {% if settings.social_instagram_link != blank %}
                      <li>
                        <a href="{{ settings.social_instagram_link }}" class="footer__social-link" aria-label="Instagram">
                          <svg aria-hidden="true" focusable="false" role="presentation" class="icon" viewBox="0 0 24 24">
                            <path d="M12 2.2c3.2 0 3.6 0 4.8.1 1.2.1 1.8.2 2.2.4.6.2 1 .5 1.4.9.4.4.7.8.9 1.4.2.4.4 1.1.4 2.2.1 1.3.1 1.6.1 4.8s0 3.6-.1 4.8c-.1 1.2-.2 1.8-.4 2.2-.2.6-.5 1-.9 1.4-.4.4-.8.7-1.4.9-.4.2-1.1.4-2.2.4-1.3.1-1.6.1-4.8.1s-3.6 0-4.8-.1c-1.2-.1-1.8-.2-2.2-.4-.6-.2-1-.5-1.4-.9-.4-.4-.7-.8-.9-1.4-.2-.4-.4-1.1-.4-2.2-.1-1.3-.1-1.6-.1-4.8s0-3.6.1-4.8c.1-1.2.2-1.8.4-2.2.2-.6.5-1 .9-1.4.4-.4.8-.7 1.4-.9.4-.2 1.1-.4 2.2-.4 1.3-.1 1.6-.1 4.8-.1zm0-2.2C8.7 0 8.3 0 7.1.1c-1.3 0-2.2.2-3 .5C3.4.9 2.7 1.3 2 2S.9 3.4.6 4.1c-.3.8-.4 1.7-.5 3C0 8.3 0 8.7 0 12s0 3.7.1 4.9c0 1.3.2 2.2.5 3C.9 20.6 1.3 21.3 2 22c.7.7 1.4 1.1 2.1 1.4.8.3 1.7.4 3 .5 1.2.1 1.6.1 4.9.1s3.7 0 4.9-.1c1.3 0 2.2-.2 3-.5.7-.3 1.4-.7 2.1-1.4.7-.7 1.1-1.4 1.4-2.1.3-.8.4-1.7.5-3 .1-1.2.1-1.6.1-4.9s0-3.7-.1-4.9c0-1.3-.2-2.2-.5-3-.3-.7-.7-1.4-1.4-2.1-.7-.7-1.4-1.1-2.1-1.4-.8-.3-1.7-.4-3-.5C15.3 0 14.9 0 12 0zm0 5.8c-3.4 0-6.2 2.8-6.2 6.2s2.8 6.2 6.2 6.2 6.2-2.8 6.2-6.2-2.8-6.2-6.2-6.2zm0 10.2c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zM18.4 5.6c-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4 1.4.6 1.4 1.4-.6 1.4-1.4 1.4z"/>
                          </svg>
                        </a>
                      </li>
                    {% endif %}
                    
                    {% if settings.social_youtube_link != blank %}
                      <li>
                        <a href="{{ settings.social_youtube_link }}" class="footer__social-link" aria-label="YouTube">
                          <svg aria-hidden="true" focusable="false" role="presentation" class="icon" viewBox="0 0 24 24">
                            <path d="M21.593 7.203a2.506 2.506 0 0 0-1.762-1.766C18.265 5.007 12 5 12 5s-6.264-.007-7.831.404a2.56 2.56 0 0 0-1.766 1.778c-.413 1.566-.417 4.814-.417 4.814s-.004 3.264.406 4.814c.23.857.905 1.534 1.763 1.765 1.582.43 7.83.437 7.83.437s6.265.007 7.831-.403a2.515 2.515 0 0 0 1.767-1.763c.414-1.565.417-4.812.417-4.812s.02-3.265-.407-4.831zM9.996 15.005l.005-6 5.207 3.005-5.212 2.995z"/>
                          </svg>
                        </a>
                      </li>
                    {% endif %}
                    
                    {% if settings.social_tiktok_link != blank %}
                      <li>
                        <a href="{{ settings.social_tiktok_link }}" class="footer__social-link" aria-label="TikTok">
                          <svg aria-hidden="true" focusable="false" role="presentation" class="icon" viewBox="0 0 24 24">
                            <path d="M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"/>
                          </svg>
                        </a>
                      </li>
                    {% endif %}
                  </ul>
                {% endif %}
              </div>
              
            {% when 'link_list' %}
              <div class="footer__column footer__column--menu" {{ block.shopify_attributes }}>
                {% if block.settings.title != blank %}
                  <h2 class="footer__title">{{ block.settings.title }}</h2>
                {% endif %}
                
                {% if block.settings.menu != blank %}
                  <ul class="footer__menu">
                    {% for link in block.settings.menu.links %}
                      <li class="footer__menu-item">
                        <a href="{{ link.url }}" class="footer__menu-link">
                          {{ link.title }}
                        </a>
                      </li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </div>
              
            {% when 'newsletter' %}
              <div class="footer__column footer__column--newsletter" {{ block.shopify_attributes }}>
                {% if block.settings.title != blank %}
                  <h2 class="footer__title">{{ block.settings.title }}</h2>
                {% endif %}
                
                {% if block.settings.text != blank %}
                  <div class="footer__text rte">
                    {{ block.settings.text }}
                  </div>
                {% endif %}
                
                {% form 'customer', id: 'footer-newsletter' %}
                  {% if form.posted_successfully? %}
                    <p class="form-success">{{ 'general.newsletter_form.confirmation' | t }}</p>
                  {% endif %}
                  
                  <input type="hidden" name="contact[tags]" value="newsletter">
                  
                  <div class="input-group">
                    <input type="email" 
                           name="contact[email]" 
                           id="Email-{{ section.id }}" 
                           class="input-group__field" 
                           value="{% if customer %}{{ customer.email }}{% endif %}" 
                           placeholder="{{ 'general.newsletter_form.email_placeholder' | t }}"
                           required>
                           
                    <button type="submit" class="btn btn--primary btn--glow" name="commit">
                      <span class="btn__text">{{ 'general.newsletter_form.submit' | t }}</span>
                      <span class="btn__glitch"></span>
                    </button>
                  </div>
                  
                  {% if form.errors %}
                    <div class="form-error">{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}</div>
                  {% endif %}
                {% endform %}
              </div>
          {% endcase %}
        {% endfor %}
      {% endif %}
    </div>
    
    <div class="footer__bottom">
      <div class="footer__copyright">
        <span>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}</span>
        <span>{{ section.settings.copyright_text }}</span>
      </div>
      
      {% if section.settings.show_payment_icons %}
        <div class="footer__payment-icons">
          {% for type in shop.enabled_payment_types %}
            <span class="footer__payment-icon">
              {{ type | payment_type_svg_tag }}
            </span>
          {% endfor %}
        </div>
      {% endif %}
      
      {% if section.settings.show_locale_selector and shop.published_locales.size > 1 %}
        <div class="footer__locale-selector">
          {% form 'localization', class: 'locale-selector', id: 'FooterLanguageForm' %}
            <div class="cyberpunk-select-wrapper">
              <select class="cyber-select" name="locale_code" aria-label="{{ 'general.language.dropdown_label' | t }}">
                {% for locale in shop.published_locales %}
                  <option value="{{ locale.iso_code }}" {% if locale.iso_code == shop.locale %}selected{% endif %}>
                    {{ locale.endonym_name }}
                  </option>
                {% endfor %}
              </select>
            </div>
          {% endform %}
        </div>
      {% endif %}
      
      {% if section.settings.show_currency_selector and shop.enabled_currencies.size > 1 %}
        <div class="footer__currency-selector">
          {% form 'currency', class: 'currency-selector', id: 'FooterCurrencyForm' %}
            <div class="cyberpunk-select-wrapper">
              <select class="cyber-select" name="currency_code" aria-label="{{ 'general.currency.dropdown_label' | t }}">
                {% for currency in shop.enabled_currencies %}
                  <option value="{{ currency.iso_code }}" {% if currency.iso_code == shop.currency %}selected{% endif %}>
                    {{ currency.iso_code }} {{ currency.symbol }}
                  </option>
                {% endfor %}
              </select>
            </div>
          {% endform %}
        </div>
      {% endif %}
    </div>
  </div>
  
  <div class="footer__grid-effect" aria-hidden="true"></div>
</footer>

{% schema %}
{
  "name": "Footer",
  "max_blocks": 4,
  "settings": [
    {
      "type": "text",
      "id": "copyright_text",
      "label": "Copyright text",
      "default": "All rights reserved."
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Show payment icons",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_locale_selector",
      "label": "Show language selector",
      "info": "To add languages, go to your language settings.",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_currency_selector",
      "label": "Show currency selector",
      "info": "To add currencies, go to your currency settings.",
      "default": true
    },
    {
      "type": "color",
      "id": "footer_background",
      "label": "Background color",
      "default": "#0D0221"
    }
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "About Us"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Use this text to share information about your brand with your customers.</p>"
        },
        {
          "type": "checkbox",
          "id": "show_social",
          "label": "Show social icons",
          "default": true
        }
      ]
    },
    {
      "type": "link_list",
      "name": "Menu",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Quick Links"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "default": "footer"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Subscribe"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Subscribe to get special offers, free giveaways, and once-in-a-lifetime deals.</p>"
        }
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "text"
      },
      {
        "type": "link_list"
      },
      {
        "type": "newsletter"
      }
    ]
  }
}
{% endschema %}
